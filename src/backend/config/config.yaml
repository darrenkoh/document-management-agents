# Document Classification Agent Configuration

# Source directories to monitor for files (supports single path or list of paths)
# You can specify multiple directories to monitor:
# source_paths:
#   - "./input"
#   - "./documents"
#   - "/path/to/other/folder"
source_paths:
  - "/Volumes/1TB/Private"

# File extensions to process (REQUIRED - only files with these extensions will be processed)
# Empty list means NO files will be processed - you must specify extensions
# Common document formats:
file_extensions:
  - ".pdf"
  - ".docx"
  - ".doc"
  - ".txt"
  - ".png"
  - ".jpg"
  - ".jpeg"
  - ".gif"
  - ".tiff"

# Database configuration
database:
  # Path to the SQLite database file (high-performance DocumentDB)
  path: "data/databases/documents.db"
  # Vector database configuration
  vector_store:
    # Type of vector store: 'chromadb' or 'faiss'
    type: "chromadb"
    # Directory to persist vector data
    persist_directory: "data/vector_store"
    # Collection name for ChromaDB
    collection_name: "documents"
    # Embedding dimension (should match your embedding model)
    dimension: 4096
    # Distance metric for ChromaDB: 'l2', 'cosine', 'ip' (inner product)
    # 'cosine' is recommended for semantic search with normalized embeddings
    distance_metric: "cosine"

# Ollama configuration
ollama:
  # Ollama API endpoint (default: http://localhost:11434)
  endpoint: "http://spark-7819.local:11434"
  # Model name to use for classification
  model: "deepseek-r1:8b"
  # Timeout in seconds for API calls
  timeout: 300
  # Maximum number of tokens to predict (higher for reasoning models)
  num_predict: 6000
  # Embedding model for semantic search (default: qwen3-embedding:8b)
  embedding_model: "qwen3-embedding:8b"
  # OCR model for fallback text extraction from images/PDFs
  ocr_model: "deepseek-ocr:3b"
  # Timeout for OCR operations (can be longer than regular models)
  ocr_timeout: 300

# Optional: Predefined classification categories
# If empty, the agent will auto-detect categories
categories: []

# Classification prompt template
# Use {filename} and {content} as placeholders
# If not specified, a default prompt will be used
# prompt_template: |
#   Analyze the following document content and classify it into up to 3 specific categories.
 
#   Common categories include but should be be limited to: invoice, contract, receipt, letter, report, resume, certificate, form, statement, manual, article, email, memo, note, presentation, spreadsheet, confirmation, booking, ticket, itinerary, image, other.
 
#   Filename: {filename}
 
#   Content:
#   {content}
 
#   Based on the content above, classify this document into up to 3 categories. Respond with ONLY the category names separated by commas, nothing else. Use lowercase and single words or short phrases (e.g., "invoice", "contract", "receipt", "confirmation", "booking"). If uncertain, use "other". Examples: "invoice", "confirmation,booking", "contract,legal,agreement".
 
#   Categories:

# Watch mode settings
watch:
  # Polling interval in seconds (for watch mode)
  interval: 5
  # Recursively watch subdirectories
  recursive: true

# Web app configuration
webapp:
  # Port to run the web application on
  port: 8081
  # Host to bind the web application to (0.0.0.0 for all interfaces)
  host: "0.0.0.0"
  # Enable debug mode (set to false for production)
  debug: true

# Semantic search configuration
semantic_search:
  # Default number of results to return
  top_k: 10
  # Minimum similarity threshold (0.0 to 1.0)
  # Lower values return more results, higher values return more precise results
  min_similarity_threshold: 0.1
  # Maximum number of results to retrieve before filtering (for better ranking)
  max_candidates: 30
  # Enable debug logging for similarity calculations
  debug_similarity: true
  # Enable RAG (Retrieval-Augmented Generation) analysis
  # When enabled, retrieved documents are analyzed by LLM for relevance
  enable_rag: true
  # Minimum relevance score threshold for RAG filtering (0.0 to 1.0)
  # Documents below this score may be filtered out
  rag_relevance_threshold: 0.3

# Logging
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "data/agent.log"

